<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="container" style="text-align: center;color: red;">
        <h1>Learning <br> .forEach <br> .filter <br> .map <br> .sort <br> .reduce</h1>
    </div>
</body>
<script>
    let companies = [
        { name: "company one", category: "finance", start: "1981", end: "2003" },
        { name: "company two", category: "retail", start: "1992", end: "2008" },
        { name: "company three", category: "auto", start: "1999", end: "2007" },
        { name: "company four", category: "retail", start: "1989", end: "2010" },
        { name: "company five", category: "technology", start: "2009", end: "2014" },
        { name: "company six", category: "finance", start: "1987", end: "2010" },
        { name: "company seven", category: "auto", start: "1986", end: "1996" },
        { name: "company eight", category: "technology", start: "2011", end: "2016" },
        { name: "company nine", category: "retail", start: "1981", end: "1989" }
    ];

    const ages = [33, 12, 20, 16, 5, 54, 21, 44, 61, 13, 15, 45, 25, 64, 32];

    // 1)iterating the array with forEach

    companies.forEach((x) =>{
        console.log(x);
    })

    // 2)separating the array of ages >= 21

    // let greaterThan21 = ages.filter((x)=>{
    //     if(x >= 21){
    //         return true
    //     }
    // })

    let greaterThan21 = ages.filter((x) => x >=21);

    console.log(greaterThan21);

    // filter retail companies

    let retailCompanies = companies.filter((x) => {
        if(x.category === "retail"){
            return true;
        }
    })

    console.log(retailCompanies);


    //High shortcut


    let retailCompanies1 = companies.filter((x) => x.category === "retail");

    console.log(retailCompanies1);


    //  using forEach

    let forEachRetailCompanies = [];
    companies.forEach((x) => {
        if(x.category === "retail"){
            forEachRetailCompanies.push(x);
        }
    })

    console.log(forEachRetailCompanies);

    // get 80's companies

   const eightiesCompanies = companies.filter((x) => {
    if(x.start >= 1980 && x.start <1990){
        return true;
    }
   })

   const eightiesCompanies1 = companies.filter((x) => x.start >= 1980 && x.start <1990);

   console.log(eightiesCompanies);
   console.log(eightiesCompanies1);

//    companies that lasted more than 10 years

let vintageMoreThan10Years = companies.filter((x) => {
     if((x.end - x.start) >= 10){
        return true;
     }
});

console.log(vintageMoreThan10Years);


// create array of company names

let companyNames = companies.map((x) => {
    return x.name;
    // return x.name = "arun";                  // here is the diff btw filter and map
})

console.log(companyNames);

// sort companies by start years

let sortedCompanies = companies.sort((a,b) => {
    return (a.start-b.start)
});

console.log(sortedCompanies);

// sum of all the ages

let sumAges = ages.reduce((total,x) => 
    total+x,0
);

console.log(sumAges);

// get total vintage of all years

let totalYearCompanies = companies.reduce((total,x) => {
    return total + (x.end-x.start);
},0);

console.log(totalYearCompanies);

// using all methods together

const all = ages
            .map((x) => x*2)
            .filter((x) => x >=40)
            .sort((a,b) => a-b)
            .reduce((a,b) => a+b,0);

console.log(all);

</script>

</html>